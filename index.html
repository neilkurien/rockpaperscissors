<!DOCTYPE html>
<html>
<head>
  <title>Rock, Paper, Scissor</title>
  <meta charset="UTF-8"/>
</head>
<body>

  <script>

      var options = ["rock", "paper", "scissors"];
      var result;
      var playerScore = 0;
      var compScore = 0;


// Generate random play for computer

      function computerPlay() {
        return options[Math.floor(Math.random() * 3)];
      }

// Take user input

      function playerInput() {
        return prompt("What's it going to be? Rock, paper, scissors?").toLowerCase();
      }

      function capFirstLetter(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
      }

// Compare user input vs computer option, and keep score

      function playRound (playerSelection, compSelection) {

          console.log("You picked " + playerSelection + "!");
          console.log("The computer picked " + compSelection + "!");

          if (playerSelection == "rock" && compSelection == "scissors" ||
              playerSelection == "paper" && compSelection == "rock" ||
              playerSelection == "scissors" && compSelection =="paper") {
                 result = "You win! " + capFirstLetter(playerSelection) + " beats " + compSelection + "!";
                 playerScore += 1;
                 return result;
          }

          else if (playerSelection == compSelection) {
                 result = "It's a draw! You both played " + compSelection + "!";
                 return result;
          }

          else {
                result = "You lose this round. " + capFirstLetter(playerSelection) + " doesn't beat " + compSelection + ".";
                compScore += 1;
                return result;
            }
          
      }


    var playerSelection;
    var compSelection;

// Plays game, loops until someone reaches 5 points

    function game() {

      do {
        
        if (playerScore == 5) {
          console.log("You win!");
          break;
        }

        else if (compScore == 5) {
          console.log("You lose! Better luck next time.");
          break;
        }

        else {
          playerSelection = playerInput();
          compSelection = computerPlay();
          console.log(playRound(playerSelection, compSelection));
          console.log("Player Score: " + playerScore);
          console.log("Computer Score: " + compScore);
        }

      }

      while (playerScore < 5 || compScore < 5);

    }

    game();
    
  </script>

</body>
</html>